<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tic Tac Toe</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Raleway:wght@400;700&display=swap" rel="stylesheet">
    <style>
    body {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 97.75vh; /* Thay đổi giá trị height */
    font-family: 'Raleway', 'Times New Roman', sans-serif; /* Sử dụng phông chữ Raleway */
    background: #101c28;
    color: white;
}

h1 {
    margin-bottom: 100px;
}

#game-board {
    display: grid;
    grid-template-columns: repeat(3, 150px);
    grid-template-rows: repeat(3, 150px);
    gap: 0; /* Không có khoảng cách giữa các ô */
    align-items: center;
    justify-content: center;
}

.cell {
    width: 150px;
    height: 150px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 5em;
    background-color: #101c28;
    border: 7px solid #6a7886; /* Đường viền giữa các ô */
    cursor: pointer;
    position: relative;
}

.cell:nth-child(1),
.cell:nth-child(2),
.cell:nth-child(3) {
    border-top: none; /* Bỏ đường viền trên cùng */
}

.cell:nth-child(7),
.cell:nth-child(8),
.cell:nth-child(9) {
    border-bottom: none; /* Bỏ đường viền dưới cùng */
}

.cell:nth-child(1),
.cell:nth-child(4),
.cell:nth-child(7) {
    border-left: none; /* Bỏ đường viền bên trái */
}

.cell:nth-child(3),
.cell:nth-child(6),
.cell:nth-child(9) {
    border-right: none; /* Bỏ đường viền bên phải */
}

#score-board {
    margin-top: 20px;
    text-align: center;
}

.score-header {
    display: flex;
    justify-content: space-around;
    align-items: center;
    width: 75%; /* Đảm bảo đủ rộng để chứa nội dung */
    margin: 10px 0;
    font-size: 0.9em;
    white-space: nowrap; /* Không cho phép xuống dòng */
    overflow: visible; /* Hiển thị toàn bộ mà không bị cắt */
    margin-left: 50px;
}

.score-values {
    display: flex;
    justify-content: space-around;
    width: 300px;
    margin: 10px 0;
    font-size: 2em;
    margin-left: 55px;
}

.score-header span, .score-values span {
    width: 120px;
    text-align: center;
    font-size: 1.2em;
}

/* CSS cho hiệu ứng xuất hiện */
@keyframes appear {
    0% { transform: scale(0.05); }
    100% { transform: scale(1); }
}

.cell img {
    display: none;
    width: 70%;
    height: 70%;
    position: absolute;
}

.cell.show img {
    display: block;
    animation: appear 0.3s ease-in-out;
}

/* CSS cho hiệu ứng nhảy số */
@keyframes jump {
    0% { transform: scale(1); }
    50% { transform: scale(1.5); }
    100% { transform: scale(1); }
}

.animated {
    animation: jump 0.75s ease;
}

@media (max-aspect-ratio: 9/16) {
    #game-board {
        grid-template-columns: repeat(3, 120px);
        grid-template-rows: repeat(3, 120px);
    }

    .cell {
        width: 120px;
        height: 120px;
        font-size: 3.5em;
    }
}
</style>
</head>
<body>
    <div id="game-board">
        <div class="cell" data-index="0"></div>
        <div class="cell" data-index="1"></div>
        <div class="cell" data-index="2"></div>
        <div class="cell" data-index="3"></div>
        <div class="cell" data-index="4"></div>
        <div class="cell" data-index="5"></div>
        <div class="cell" data-index="6"></div>
        <div class="cell" data-index="7"></div>
        <div class="cell" data-index="8"></div>
    </div>

    <div id="score-board">
        <div class="score-header">
            <span>PLAYER 1 (X)</span>
            <span>TIE</span>
            <span>PLAYER 2 (O)</span>
        </div>
        <div class="score-values">
            <span id="score-x">0</span>
            <span id="score-tie">0</span>
            <span id="score-o">0</span>
        </div>
    </div>

    
    <script>
        // Lấy tất cả các ô trong bảng
const cells = document.querySelectorAll('.cell');

// Biến để lưu người chơi hiện tại, bảng trò chơi và trạng thái trò chơi
let currentPlayer = 'X';
let gameBoard = ['', '', '', '', '', '', '', '', ''];
let isGameActive = true;

// Biến để lưu tỉ số
let scoreX = 0;
let scoreO = 0;
let scoreTie = 0;

// Các điều kiện thắng lợi
const winningConditions = [
    [0, 1, 2],
    [3, 4, 5],
    [6, 7, 8],
    [0, 3, 6],
    [1, 4, 7],
    [2, 5, 8],
    [0, 4, 8],
    [2, 4, 6]
];

// Liên kết hình ảnh cho X và O
const images = {
    'X': 'https://i.ibb.co/hB9J842/blob.png',
    'O': 'https://i.ibb.co/kh902qp/blob.png'
};

// Hàm xử lý khi người chơi nhấp vào ô
const handleCellClick = (event) => {
    // Lấy ô mà người chơi đã nhấp vào và chỉ số của ô đó
    const cell = event.target;
    const index = cell.getAttribute('data-index');

    // Kiểm tra nếu ô đã được đánh dấu hoặc trò chơi đã kết thúc
    if (gameBoard[index] !== '' || !isGameActive) {
        return;
    }

    // Cập nhật bảng trò chơi và hiển thị người chơi hiện tại trên ô
    gameBoard[index] = currentPlayer;
    cell.innerHTML = `<img src="${images[currentPlayer]}" alt="${currentPlayer}">`;
    cell.classList.add('show');

    // Kiểm tra xem có người chơi nào thắng chưa
    if (checkWinner()) {
        // Nếu có người thắng cuộc, cập nhật tỉ số và hiển thị thông báo
        if (currentPlayer === 'X') {
            scoreX++;
            updateScore('score-x', scoreX);
        } else {
            scoreO++;
            updateScore('score-o', scoreO);
        }
        setTimeout(() => {
            alert(`Player ${currentPlayer} has won!`);
            resetGame();
        }, 200);
        isGameActive = false;
    } else if (!gameBoard.includes('')) {
        // Nếu tất cả các ô đã được đánh dấu mà không có người thắng cuộc, cập nhật tỉ số hòa và hiển thị thông báo hòa
        scoreTie++;
        updateScore('score-tie', scoreTie);
        setTimeout(() => {
            alert('Draw!');
            resetGame();
        }, 200);
        isGameActive = false;
    } else {
        // Chuyển đổi người chơi
        currentPlayer = currentPlayer === 'X' ? 'O' : 'X';
    }
};

// Hàm kiểm tra người thắng cuộc
const checkWinner = () => {
    for (let i = 0; i < winningConditions.length; i++) {
        const [a, b, c] = winningConditions[i];
        if (gameBoard[a] !== '' && gameBoard[a] === gameBoard[b] && gameBoard[a] === gameBoard[c]) {
            return true;
        }
    }
    return false;
};

// Hàm cập nhật tỉ số với hiệu ứng nhảy số
const updateScore = (scoreId, newScore) => {
    const scoreElement = document.getElementById(scoreId);
    scoreElement.textContent = newScore;

    // Thêm lớp hiệu ứng và loại bỏ sau khi hoàn tất
    scoreElement.classList.add('animated');
    scoreElement.addEventListener('animationend', () => {
        scoreElement.classList.remove('animated');
    });
};

// Hàm reset trò chơi
const resetGame = () => {
    gameBoard = ['', '', '', '', '', '', '', '', ''];
    isGameActive = true;
    currentPlayer = 'X';
    cells.forEach(cell => {
        cell.innerHTML = '';
        cell.classList.remove('show');
    });
};

// Thêm sự kiện click cho từng ô
cells.forEach(cell => cell.addEventListener('click', handleCellClick));
    </script>
    <script src="script.js"></script>
</body>
</html>
